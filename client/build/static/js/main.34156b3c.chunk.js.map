{"version":3,"sources":["components/buttons/LoginButton.jsx","Pages/GreetPage.jsx","components/UsersOnline.jsx","components/navigation/Nav.jsx","components/buttons/LogoutButton.jsx","layouts/header/Header.jsx","components/ChatComponent.jsx","redux/actions/commentsByPost.js","components/posts/PostComponent.jsx","components/users/UserProfile.jsx","components/users/UsersList.jsx","Pages/AppHome.jsx","redux/actions/user.js","redux/reducers/testReducer.js","redux/reducers/user.js","redux/reducers/messages.js","redux/reducers/usersOnline.js","redux/reducers/users.js","redux/reducers/waiting.js","redux/reducers/comments.js","redux/reducers/posts.js","redux/index.js","components/SocketReduxWrapper.jsx","App.js","reportWebVitals.js","index.js"],"names":["LoginButton","loginWithRedirect","useAuth0","onClick","GreetPage","isAuthenticated","to","UsersOnline","usersOnline","useSelector","state","onlineList","test","Object","entries","forEach","key","value","push","id","auth_id","src","image_url","alt","username","setUsersOnlineList","Nav","className","LogoutButton","logout","returnTo","window","location","origin","Header","ChatComponent","useState","userText","setUserText","dispatch","useDispatch","userId","userAccount","useParams","directMessages","messages","sendMessage","type","data","uuidv4","from","date","Date","now","time","message","undefined","console","log","Set","map","msgId","msg","find","Message","showSenderName","bubblesCentered","bubbleStyles","text","fontSize","chatbubble","borderRadius","padding","onKeyDown","e","keyCode","onEnter","onChange","target","commentsByPost","PostComponent","allPosts","posts","postId","Number","post","comment","form","setForm","htmlFor","name","placeholder","preventDefault","UserProfile","user","role","UsersList","users","AppHome","email","path","useRouteMatch","waiting","sendUserDetails","split","exact","testReducer","action","conversationId","newStateObject","allReducers","combineReducers","SocketReduxWrapper","children","jwt","setJwt","getAccessTokenSilently","a","audience","accessToken","useEffect","getToken","socket","io","query","socketIoMiddleware","createSocketIoMiddleware","store","applyMiddleware","createStore","SocketReduxWrapperMemoized","memo","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","domain","clientId","redirectUri","document","getElementById"],"mappings":"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","file":"static/js/main.34156b3c.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\n\r\nfunction LoginButton(){\r\n  const { loginWithRedirect } = useAuth0();\r\n\r\n  return <button onClick={() => loginWithRedirect()}>Log In</button>;\r\n};\r\n\r\nexport default LoginButton;","import React from \"react\"\r\nimport LoginButton from \"../components/buttons/LoginButton\"\r\nimport {Redirect} from 'react-router-dom'\r\nimport {useAuth0} from '@auth0/auth0-react'\r\n\r\nfunction GreetPage() {\r\n  const { isAuthenticated } = useAuth0();\r\n\r\n  if (isAuthenticated) {\r\n    return <Redirect to=\"/app/\" />;\r\n  }\r\n  return (\r\n    <div>\r\n    <h1>Hello</h1>\r\n    <LoginButton />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GreetPage;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction UsersOnline() {\r\n  const usersOnline = useSelector((state) => state.usersOnline);\r\n  function setUsersOnlineList() {\r\n    let test = [];\r\n    Object.entries(usersOnline).forEach(([key, value]) => {\r\n      test.push(\r\n        <li key={key} id={value.auth_id}>\r\n          <Link to={`/app/messaging/${value.id}`}>\r\n            <img src={value.image_url} alt={value.username} />\r\n          </Link>\r\n        </li>\r\n      );\r\n    });\r\n    return test;\r\n  }\r\n\r\n  const onlineList = setUsersOnlineList();\r\n  return (\r\n    <div>\r\n      <h3>Online Users</h3>\r\n      <ul>{onlineList}</ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UsersOnline;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\n\r\nfunction Nav() {\r\n  const { isAuthenticated } = useAuth0();\r\n\r\n  if (isAuthenticated) {\r\n    return (\r\n      <div>\r\n        <Link to=\"/app\" className=\"nav\">\r\n          Home\r\n        </Link>\r\n        <Link to=\"/app/users\" className=\"nav\">\r\n          Users\r\n        </Link>\r\n        <Link to=\"/app/messaging\" className=\"nav\">\r\n          Messages\r\n        </Link>\r\n        <Link to=\"/app/createpost\" className=\"nav\">\r\n          Ask a Question\r\n        </Link>\r\n        <Link to=\"/app/myprofile\" className=\"nav\">\r\n          Avatar\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n  if (!isAuthenticated) {\r\n    return (\r\n      <div>\r\n        <Link to=\"/\" className=\"nav\">\r\n          Home\r\n        </Link>\r\n        <Link to=\"/\" className=\"nav\">\r\n          Sign In\r\n        </Link>\r\n        <Link to=\"/\" className=\"nav\">\r\n          Register\r\n        </Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Nav;\r\n","import React from \"react\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\n\r\nconst LogoutButton = () => {\r\n  const { logout } = useAuth0();\r\n\r\n  return (\r\n    <button onClick={() => logout({ returnTo: window.location.origin })}>\r\n      Log Out\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default LogoutButton;","import React from 'react'\r\nimport Nav from '../../components/navigation/Nav'\r\nimport LogoutButton from '../../components/buttons/LogoutButton'\r\n\r\nfunction Header() {\r\n  return (\r\n    <div className='header-container'>\r\n      <span>Logo</span>\r\n      <Nav />\r\n      <LogoutButton />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import { ChatFeed, Message } from \"react-chat-ui\";\r\nimport { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nfunction ChatComponent() {\r\n  const [userText, setUserText] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const userId = useSelector((state) => state.userAccount.id);\r\n  const { id } = useParams();\r\n  const directMessages = useSelector((state) => state.messages[id]);\r\n\r\n  function sendMessage() {\r\n    dispatch({\r\n      type: \"setNewMessage\",\r\n      data: {\r\n        id: uuidv4(),\r\n        from: userId,\r\n        to: id,\r\n        date: Date.now(),\r\n        time: Date.now(),\r\n        message: userText,\r\n      },\r\n    });\r\n    dispatch({\r\n      type: \"server/sendMessage\",\r\n      data: {\r\n        from: userId + \"\",\r\n        to: id,\r\n        date: Date.now(),\r\n        time: Date.now(),\r\n        message: userText,\r\n      },\r\n    });\r\n    setUserText(\"\");\r\n  }\r\n\r\n  function onEnter(e) {\r\n    if (e.keyCode === 13 && userText !== \"\") {\r\n      sendMessage();\r\n    }\r\n  }\r\n\r\n  function setMessages() {\r\n    if (directMessages !== undefined) {\r\n      console.log(directMessages);\r\n      let messageIds = [\r\n        ...new Set(directMessages.map((message) => message.id)),\r\n      ];\r\n      let result = messageIds.map((msgId) => {\r\n        let msg = directMessages.find((message) => message.id == msgId);\r\n        if (msg.from === userId) {\r\n          msg.from = 0;\r\n        }\r\n        return new Message({\r\n          id: msg.from,\r\n          message: msg.message,\r\n        });\r\n      });\r\n      return result;\r\n    }\r\n    return [];\r\n  }\r\n\r\n  const messages = setMessages();\r\n  return (\r\n    <div className=\"chat\">\r\n      <ChatFeed\r\n        messages={messages}\r\n        showSenderName\r\n        bubblesCentered={false}\r\n        bubbleStyles={{\r\n          text: {\r\n            fontSize: 30,\r\n          },\r\n          chatbubble: {\r\n            borderRadius: 70,\r\n            padding: 40,\r\n          },\r\n        }}\r\n      />\r\n      <input\r\n        onKeyDown={(e) => onEnter(e)}\r\n        value={userText}\r\n        onChange={(e) => setUserText(e.target.value)}\r\n      />\r\n      <button onClick={() => sendMessage()}>Send</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatComponent;\r\n","function commentsByPost(message) {\r\n  return {\r\n    type: \"server/addComment\",\r\n    data: message,\r\n  };\r\n}\r\n\r\nexport default commentsByPost","import React, { useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport commentsByPost from \"../../redux/actions/commentsByPost\";\r\n\r\nexport function PostComponent() {\r\n  const allPosts = useSelector((state) => state.posts);\r\n  const { postId } = useParams();\r\n  const id = Number(postId);\r\n  const post = allPosts.find((post) => post.id === id);\r\n  const dispatch = useDispatch();\r\n\r\n  const [form, setForm] = useState({\r\n    comment: \"\"\r\n  })\r\n\r\n  function handleChange (e){\r\n    const {name, value} = e.target;\r\n    setForm({\r\n      [name]: value\r\n    })\r\n  }\r\n\r\n  function handleClick(e){\r\n    e.preventDefault()\r\n    dispatch(commentsByPost(form));\r\n    setForm({\r\n      comment: \"\",\r\n    });\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <h1> Post </h1>\r\n      <ul>{post.time}</ul>\r\n\r\n      <form className=\"column-6\">\r\n          <div className=\"field\">\r\n            <label htmlFor=\"firstName\" className=\"form-label\">\r\n              Title\r\n            </label>\r\n            <input\r\n              name=\"comment\"\r\n              value={form.comment}\r\n              placeholder=\"comment\"\r\n              onChange={handleChange}\r\n            ></input>\r\n          </div>\r\n          \r\n          <button\r\n            type=\"button\"\r\n            className=\"button-primary\"\r\n            onClick={handleClick}\r\n            data-testid=\"submitButton\"\r\n          >\r\n            Comment!\r\n          </button>\r\n        </form>\r\n\r\n    </>\r\n  );\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from \"react-redux\";\r\n\r\n\r\nfunction UserProfile() {\r\n  const user = useSelector((state) => state.userAccount)\r\n  return (\r\n    <div className='user-container'>\r\n      <img className='avatar' src={user.image_url} alt={user.username} />\r\n      <p>username: {user.username}</p>\r\n      <p>Role: {user.role}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserProfile\r\n","import React from 'react'\r\nimport UserProfile from './UserProfile'\r\nimport { useSelector } from 'react-redux'\r\n\r\nfunction UsersList() {\r\n  const users = useSelector((state) => state.users)\r\n  console.log(users);\r\n  return (\r\n    <>\r\n    <h1>Hey</h1>\r\n    <div className='user-container'>\r\n    <ul>\r\n      {users.map((user) => \r\n      <div key={user.id}>\r\n            <img className='avatar' src={user.image_url} alt={user.username} />\r\n            <p>username: {user.username}</p>\r\n            <p>Role: {user.role}</p>\r\n      </div>\r\n            )}\r\n    </ul>\r\n    </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default UsersList\r\n","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport UsersOnline from \"../components/UsersOnline\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport { sendUserDetails } from \"../redux/actions/user\";\r\nimport Header from \"../layouts/header/Header\";\r\nimport { QuestionForm } from \"../components/posts/QuestionForm\";\r\nimport { Switch, Route, useRouteMatch } from \"react-router-dom\";\r\nimport ChatComponent from \"../components/ChatComponent\";\r\nimport { PostComponent } from \"../components/posts/PostComponent\";\r\nimport UserProfile from \"../components/users/UserProfile\";\r\nimport UsersList from \"../components/users/UsersList\";\r\n\r\nfunction emailToUsername(email) {\r\n  let username = email.split(\"@\");\r\n  return username[0];\r\n}\r\n\r\nfunction AppHome() {\r\n  const dispatch = useDispatch();\r\n  const { user } = useAuth0();\r\n  const { path } = useRouteMatch();\r\n  const userAccount = useSelector((state) => state.userAccount);\r\n  const waiting = useSelector((state) => state.waiting);\r\n\r\n  if (!waiting) {\r\n    if (userAccount.email === \"\") {\r\n      const defaultUser = { ...user, name: emailToUsername(user.email) };\r\n      dispatch(sendUserDetails(defaultUser));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {waiting ? (\r\n        <div className=\"spinner\"></div>\r\n      ) : (\r\n        <>\r\n          <Header />\r\n          <UsersOnline />\r\n          <Switch>\r\n            <Route exact path={path}>\r\n              <h1>Home</h1>\r\n            </Route>\r\n            <Route exact path={`${path}/messaging/:id`}>\r\n              <ChatComponent />\r\n            </Route>\r\n            <Route path={`${path}/post/:postId`}>\r\n              <PostComponent />\r\n            </Route>\r\n            <Route path={`${path}/users`}>\r\n              <UsersList />\r\n            </Route>\r\n            <Route path={`${path}/myprofile`}>\r\n              <UserProfile />\r\n            </Route>\r\n          </Switch>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AppHome;\r\n","export function sendUserDetails(user) {\r\n  return {\r\n    type: 'server/sendUserDetails',\r\n    data: user\r\n  }\r\n}","function testReducer(state = \"\", action) {\r\n  switch (action.type) {\r\n    case 'hello':\r\n      console.log('hello');\r\n      return state;\r\n    default: \r\n      return state;\r\n  }\r\n}\r\n\r\nexport default testReducer;","function userAccount(state={}, action) {\r\n  switch (action.type) {\r\n    case 'setUser':\r\n      return {...action.data}\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default userAccount;","function messages(state = {}, action) {\r\n  switch (action.type) {\r\n    case \"setMessages\":\r\n      return action.data;\r\n    case \"setNewMessage\":\r\n      const conversationId = action.data.to;\r\n      let newStateObject = { ...state };\r\n      if (newStateObject[conversationId] === undefined) {\r\n        newStateObject[conversationId] = [action.data];\r\n      } else {\r\n        newStateObject[conversationId] = [\r\n          ...newStateObject[conversationId],\r\n          action.data,\r\n        ];\r\n      }\r\n      return newStateObject;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default messages;\r\n","function usersOnline(state={}, action) {\r\n  switch(action.type) {\r\n    case 'setOnlineUsers':\r\n      return action.data\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default usersOnline","function users(state=[], action) {\r\n  switch (action.type) {\r\n    case 'setAllUsers':\r\n      return action.data\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default users","function waiting(state=true, action) {\r\n  switch(action.type) {\r\n    case 'setWaiting':\r\n      return true\r\n    case 'finishWaiting':\r\n      return false\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default waiting","\r\nfunction commentsByPost(state=[], action){\r\n  switch(action.type) {\r\n    case 'setComment':\r\n      return action.data\r\n    case 'setNewComment':\r\n      return [...state, action.data]\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default commentsByPost;","function posts(state=[], action){\r\n    switch(action.type) {\r\n      case 'setPosts':\r\n        return action.data\r\n      case 'addPosts':\r\n        return [...state, action.data]\r\n      default:\r\n        return state\r\n    }\r\n  }\r\n  \r\n  export default posts;","import testReducer from \"./reducers/testReducer\";\r\nimport userAccount from \"./reducers/user\";\r\nimport messages from \"./reducers/messages\";\r\nimport usersOnline from \"./reducers/usersOnline\";\r\nimport users from \"./reducers/users\";\r\nimport waiting from \"./reducers/waiting\";\r\nimport commentsByPost from \"./reducers/comments\";\r\n\r\nimport posts from \"./reducers/posts\";\r\nimport { combineReducers } from \"redux\";\r\n\r\nconst allReducers = combineReducers({\r\n  testReducer,\r\n  userAccount,\r\n  waiting,\r\n  usersOnline,\r\n  messages,\r\n  posts,\r\n  commentsByPost,\r\n  users\r\n});\r\n\r\nexport default allReducers;\r\n","import { useState, useEffect, memo } from \"react\";\r\nimport { createStore, applyMiddleware } from \"redux\";\r\nimport createSocketIoMiddleware from \"redux-socket.io\";\r\nimport io from \"socket.io-client\";\r\nimport { Provider } from \"react-redux\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport allReducers from \"../redux\";\r\n\r\nexport function SocketReduxWrapper({ children }) {\r\n  const [jwt, setJwt] = useState(\"\");\r\n  const { getAccessTokenSilently, isAuthenticated } = useAuth0();\r\n\r\n  async function getToken() {\r\n    const accessToken = await getAccessTokenSilently({\r\n      audience: \"http://CodeCouchSocket.com/api\",\r\n    });\r\n    setJwt(accessToken);\r\n  }\r\n\r\n  useEffect(() => {\r\n    getToken();\r\n  }, []);\r\n\r\n  if (jwt !== \"\") {\r\n    const socket = io(\"https://thecodecoach.herokuapp.com/\", {\r\n      query: `token=${jwt}`,\r\n    });\r\n\r\n    const socketIoMiddleware = createSocketIoMiddleware(socket, \"server/\");\r\n\r\n    const store = applyMiddleware(socketIoMiddleware)(createStore)(allReducers);\r\n    return <Provider store={store}>{children}</Provider>;\r\n  } else {\r\n    const socket = io(\"https://thecodecoach.herokuapp.com/\");\r\n    const socketIoMiddleware = createSocketIoMiddleware(socket, \"server/\");\r\n    const store = applyMiddleware(socketIoMiddleware)(createStore)(allReducers);\r\n    return (\r\n      <Provider store={store}>\r\n        <div className=\"spinner\"></div>\r\n      </Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport const SocketReduxWrapperMemoized = memo(SocketReduxWrapper);\r\n","import React from \"react\";\r\nimport \"./App.css\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport GreetPage from \"./Pages/GreetPage\";\r\nimport AppHome from \"./Pages/AppHome\";\r\nimport { SocketReduxWrapperMemoized } from \"./components/SocketReduxWrapper\";\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          <GreetPage />\r\n        </Route>\r\n        <Route path=\"/app\">\r\n          <SocketReduxWrapperMemoized>\r\n            <AppHome />\r\n          </SocketReduxWrapperMemoized>\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { Auth0Provider } from '@auth0/auth0-react'\r\n\r\nReactDOM.render(\r\n  <>\r\n    <Auth0Provider\r\n    domain=\"dev-ngqwdtsq.us.auth0.com\"\r\n    clientId=\"F5zt73D2nJqsidW1kmelY4v2MduiO0gB\"\r\n    redirectUri={window.location.origin}\r\n    audience=\"http://CodeCouchSocket.com/api\"\r\n    >\r\n    <App />\r\n    </Auth0Provider>\r\n  </>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}