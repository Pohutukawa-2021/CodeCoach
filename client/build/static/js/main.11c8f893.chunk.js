(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{132:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(25),s=n.n(r),a=(n(74),n(75),n(4)),i=n(3),l=n(7),o=n(0);var j=function(){var e=Object(l.b)().loginWithRedirect;return Object(o.jsx)("button",{onClick:function(){return e()},children:"Log In"})};var b=function(){return Object(l.b)().isAuthenticated?Object(o.jsx)(i.a,{to:"/app/"}):Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"Hello"}),Object(o.jsx)(j,{})]})},u=n(5),d=n(2),O=n(8);var h=function(){var e=Object(d.c)((function(e){return e.usersOnline})),t=function(){var t=[];return Object.entries(e).forEach((function(e){var n=Object(O.a)(e,2),c=n[0],r=n[1];t.push(Object(o.jsx)("li",{id:r.auth_id,children:Object(o.jsx)(a.b,{to:"/app/messaging/".concat(r.id),children:Object(o.jsx)("img",{src:r.image_url,alt:r.username})})},c))})),t}();return Object(o.jsxs)("div",{children:[Object(o.jsx)("h3",{children:"Online Users"}),Object(o.jsx)("ul",{children:t})]})};function m(e){return{type:"server/sendUserDetails",data:e}}var x=function(){var e=Object(l.b)().isAuthenticated;return e?Object(o.jsxs)("div",{children:[Object(o.jsx)(a.b,{to:"/app",className:"nav",children:"Home"}),Object(o.jsx)(a.b,{to:"/app/users",className:"nav",children:"Users"}),Object(o.jsx)(a.b,{to:"/app/messaging",className:"nav",children:"Messages"}),Object(o.jsx)(a.b,{to:"/app/createpost",className:"nav",children:"Ask a Question"}),Object(o.jsx)(a.b,{to:"/app/myprofile",className:"nav",children:"Avatar"})]}):e?void 0:Object(o.jsxs)("div",{children:[Object(o.jsx)(a.b,{to:"/",className:"nav",children:"Home"}),Object(o.jsx)(a.b,{to:"/",className:"nav",children:"Sign In"}),Object(o.jsx)(a.b,{to:"/",className:"nav",children:"Register"})]})},p=function(){var e=Object(l.b)().logout;return Object(o.jsx)("button",{onClick:function(){return e({returnTo:window.location.origin})},children:"Log Out"})};var v=function(){return Object(o.jsxs)("div",{className:"header-container",children:[Object(o.jsx)("span",{children:"Logo"}),Object(o.jsx)(x,{}),Object(o.jsx)(p,{})]})},f=n(15);function g(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.posts})),n=(Object(d.c)((function(e){return e.users})),Object(c.useState)({title:"",body:""})),r=Object(O.a)(n,2),s=r[0],i=r[1];function l(e){var t=e.target,n=t.name,c=t.value;i(Object(u.a)(Object(u.a)({},s),{},Object(f.a)({},n,c)))}return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("ul",{children:t.map((function(e){return Object(o.jsx)("li",{children:Object(o.jsxs)(a.b,{to:"/app/post/".concat(e.postId),children:[e.question," === ",e.user.name,Object(o.jsx)("ul",{children:e.comments.map((function(e){return Object(o.jsxs)("li",{children:[" ",e.comment," --- ",e.username]})}))})]})})}))}),Object(o.jsx)("section",{className:"flex-container",children:Object(o.jsxs)("form",{className:"column-6",children:[Object(o.jsxs)("div",{className:"field",children:[Object(o.jsx)("label",{htmlFor:"firstName",className:"form-label",children:"Title"}),Object(o.jsx)("input",{name:"title",value:s.title,placeholder:"summary",onChange:l})]}),Object(o.jsxs)("div",{className:"field",children:[Object(o.jsx)("label",{htmlFor:"lastName",className:"form-label",children:"Body"}),Object(o.jsx)("input",{name:"body",value:s.body,placeholder:"details",onChange:l})]}),Object(o.jsx)("button",{type:"submit",className:"button-primary",onClick:function(t){t.preventDefault(),e({type:"server/addPost",data:s}),i({title:"",body:""})},"data-testid":"submitButton",children:"Ask!"})]})})]})}var y=n(16),N=n(42),w=n(134);var C=function(){var e=Object(c.useState)(""),t=Object(O.a)(e,2),n=t[0],r=t[1],s=Object(d.b)(),a=Object(d.c)((function(e){return e.userAccount.id})),l=Object(i.h)().id,j=Object(d.c)((function(e){return e.messages[l]}));function b(){s({type:"setNewMessage",data:{message_id:Object(w.a)(),from:a,to:l,date:Date.now(),time:Date.now(),message:n}}),s({type:"server/sendMessage",data:{from:a+"",to:l,date:Date.now(),time:Date.now(),message:n}}),r("")}var u=void 0!==j?Object(y.a)(new Set(j.map((function(e){return e.message_id})))).map((function(e){var t=j.find((function(t){return t.message_id==e}));return t.from===a&&(t.from=0),new N.Message({id:t.from,message:t.message})})):[];return Object(o.jsxs)("div",{className:"chat",children:[Object(o.jsx)(N.ChatFeed,{messages:u,showSenderName:!0,bubblesCentered:!1,bubbleStyles:{text:{fontSize:30},chatbubble:{borderRadius:70,padding:40}}}),Object(o.jsx)("input",{onKeyDown:function(e){return function(e){13===e.keyCode&&""!==n&&b()}(e)},value:n,onChange:function(e){return r(e.target.value)}}),Object(o.jsx)("button",{onClick:function(){return b()},children:"Send"})]})};var S=function(e){return{type:"server/addComment",data:e}};function k(){var e=Object(i.h)().postId,t=Number(e),n=Object(d.b)(),r=Object(c.useState)({postId:t,comment:""}),s=Object(O.a)(r,2),a=s[0],l=s[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h1",{children:" Post "}),Object(o.jsxs)("form",{className:"column-6",children:[Object(o.jsxs)("div",{className:"field",children:[Object(o.jsx)("label",{htmlFor:"firstName",className:"form-label",children:"Title"}),Object(o.jsx)("input",{name:"comment",value:a.comment,placeholder:"comment",onChange:function(e){var t=e.target,n=t.name,c=t.value;l(Object(u.a)(Object(u.a)({},a),{},Object(f.a)({},n,c)))}})]}),Object(o.jsx)("button",{type:"submit",className:"button-primary",onClick:function(e){e.preventDefault(),n(S(a)),l({postId:t,comment:""})},"data-testid":"submitButton",children:"Comment!"})]})]})}var F=function(){var e=Object(d.c)((function(e){return e.userAccount}));return console.log(e),Object(o.jsxs)("div",{className:"user-container",children:[Object(o.jsx)("img",{className:"avatar",src:e.image_url,alt:e.username}),Object(o.jsxs)("p",{children:["username: ",e.username]}),Object(o.jsx)("p",{children:e.email}),Object(o.jsxs)("p",{children:["Role: ",e.role]}),Object(o.jsxs)("p",{children:["Experience: ",e.experience]}),Object(o.jsxs)("p",{children:["Bio: ",e.bio]}),Object(o.jsx)(a.c,{to:"/app/editprofile",children:"Edit details"})]})};n(96);var A=function(){var e=Object(d.c)((function(e){return e.users}));return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"user-container",children:Object(o.jsx)("ul",{children:e.map((function(e){return Object(o.jsxs)("div",{children:[Object(o.jsx)("img",{className:"avatar",src:e.image_url,alt:e.username}),Object(o.jsxs)("li",{children:["username: ",e.username]}),Object(o.jsx)("li",{children:e.email}),Object(o.jsxs)("li",{children:["Role: ",e.role]}),Object(o.jsxs)("li",{children:["Experience: ",e.experience]}),Object(o.jsxs)("li",{children:["Bio: ",e.bio]})]},e.id)}))})})})};var D=function(){var e=Object(d.c)((function(e){return e.users})),t=Object(d.c)((function(e){return e.messages})),n=Object.keys(t).map((function(n){var c,r=(c=n,e.find((function(e){return e.id===parseInt(c)}))),s=function(e){return t[e][t[e].length-1]}(n);return Object(o.jsx)("li",{children:Object(o.jsxs)(a.b,{to:"/app/messaging/".concat(r.id),children:[Object(o.jsx)("img",{src:r.image_url,alt:r.username}),Object(o.jsx)("p",{children:s.message})]})})}));return Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"Chat"}),Object(o.jsx)("ul",{children:n})]})};var B=function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Developers List"}),Object(o.jsx)(A,{})]})};var I=function(){var e=Object(d.b)(),t=Object(i.g)(),n=Object(d.c)((function(e){return e.userAccount})),r=Object(c.useState)({name:n.username,role:"",experience:"",bio:n.bio}),s=Object(O.a)(r,2),a=s[0],l=s[1];function j(e){var t=e.target,n=t.name,c=t.value;l(Object(u.a)(Object(u.a)({},a),{},Object(f.a)({},n,c)))}return Object(o.jsx)("div",{children:Object(o.jsx)("section",{className:"flex-container",children:Object(o.jsxs)("form",{className:"column-6",children:[Object(o.jsxs)("div",{className:"field",children:[Object(o.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),Object(o.jsx)("input",{name:"name",value:a.name,placeholder:n.username,onChange:j})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{htmlFor:"role",className:"form-label",children:"Role"}),Object(o.jsxs)("select",{onChange:j,className:"select",name:"role",children:[Object(o.jsx)("option",{hidden:!0,children:"Select from this list"}),Object(o.jsx)("option",{value:"Junior",children:"Junior"}),Object(o.jsx)("option",{value:"Senior",children:"Senior"})]})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{htmlFor:"experience",className:"form-label",children:"Experience"}),Object(o.jsxs)("select",{onChange:j,className:"select",name:"experience",children:[Object(o.jsx)("option",{hidden:!0,children:"Select from this list"}),Object(o.jsx)("option",{value:"0-1 year experience",children:"0-1 year experience"}),Object(o.jsx)("option",{value:"1-2 years experience",children:"1-2 years experience"}),Object(o.jsx)("option",{value:"2-3 years experience",children:"2-3 years experience"}),Object(o.jsx)("option",{value:"3-4 years experience",children:"3-4 years experience"}),Object(o.jsx)("option",{value:"5+ year experience",children:"5+ year experience"})]})]}),Object(o.jsxs)("div",{className:"field",children:[Object(o.jsx)("label",{htmlFor:"bio",className:"form-label",children:"Bio"}),Object(o.jsx)("input",{name:"bio",type:"text",value:a.bio,placeholder:"Type your bio here",onChange:j})]}),Object(o.jsx)("button",{type:"submit",className:"button-primary",onClick:function(n){n.preventDefault(),e(m(a)),t.push("/app/myprofile")},"data-testid":"submitButton",children:"Save"})]})})})};var _=function(){var e,t=Object(d.b)(),n=Object(l.b)().user,c=Object(i.i)().path,r=Object(d.c)((function(e){return e.userAccount})),s=Object(d.c)((function(e){return e.waiting}));return s||""===r.email&&t(m(Object(u.a)(Object(u.a)({},n),{},{name:(e=n.email,e.split("@")[0])}))),Object(o.jsx)("div",{children:s?Object(o.jsx)("div",{className:"spinner"}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(v,{}),Object(o.jsx)(h,{}),Object(o.jsx)(D,{}),Object(o.jsxs)(i.d,{children:[Object(o.jsx)(i.b,{exact:!0,path:c,children:Object(o.jsx)("h1",{children:"Home"})}),Object(o.jsx)(i.b,{exact:!0,path:"".concat(c,"/messaging/:id"),children:Object(o.jsx)(C,{})}),Object(o.jsx)(i.b,{path:"".concat(c,"/createpost"),children:Object(o.jsx)(g,{})}),Object(o.jsx)(i.b,{path:"".concat(c,"/post/:postId"),children:Object(o.jsx)(k,{})}),Object(o.jsx)(i.b,{path:"".concat(c,"/users"),children:Object(o.jsx)(B,{})}),Object(o.jsx)(i.b,{path:"".concat(c,"/myprofile"),children:Object(o.jsx)(F,{})}),Object(o.jsx)(i.b,{path:"".concat(c,"/editprofile"),children:Object(o.jsx)(I,{})})]})]})})},E=n(43),M=n.n(E),P=n(69),R=n(17),T=n(44),U=n.n(T),L=n(45),q=n.n(L);var J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"hello"===t.type?(console.log("hello"),e):e};var H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"setUser"===t.type?Object(u.a)({},t.data):e};var W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setMessages":return t.data;case"setNewMessage":var n=t.data.to,c=Object(u.a)({},e);return void 0===c[n]?c[n]=[t.data]:c[n]=[].concat(Object(y.a)(c[n]),[t.data]),c;default:return e}};var z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"setOnlineUsers"===t.type?t.data:e};var K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"setAllUsers"===t.type?t.data:e};var Q=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setWaiting":return!0;case"finishWaiting":return!1;default:return e}};var Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setComment":return t.data;case"setNewComment":return[].concat(Object(y.a)(e),[t.data]);default:return e}};var G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setPosts":return t.data;case"addPosts":return[].concat(Object(y.a)(e),[t.data]);default:return e}},V=Object(R.b)({testReducer:J,userAccount:H,waiting:Q,usersOnline:z,messages:W,posts:G,commentsByPost:Y,users:K});function X(e){var t=e.children,n=Object(c.useState)(""),r=Object(O.a)(n,2),s=r[0],a=r[1],i=Object(l.b)(),j=i.getAccessTokenSilently;i.isAuthenticated;function b(){return(b=Object(P.a)(M.a.mark((function e(){var t;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j({audience:"http://CodeCouchSocket.com/api"});case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(Object(c.useEffect)((function(){!function(){b.apply(this,arguments)}()}),[]),""!==s){var u=q()(window.location.origin,{query:"token=".concat(s)}),h=U()(u,"server/"),m=Object(R.a)(h)(R.c)(V);return Object(o.jsx)(d.a,{store:m,children:t})}var x=q()(window.location.origin),p=U()(x,"server/"),v=Object(R.a)(p)(R.c)(V);return Object(o.jsx)(d.a,{store:v,children:Object(o.jsx)("div",{className:"spinner"})})}var Z=Object(c.memo)(X);var $=function(){return Object(o.jsx)(a.a,{children:Object(o.jsxs)(i.d,{children:[Object(o.jsx)(i.b,{exact:!0,path:"/",children:Object(o.jsx)(b,{})}),Object(o.jsx)(i.b,{path:"/app",children:Object(o.jsx)(Z,{children:Object(o.jsx)(_,{})})})]})})},ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,135)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))};s.a.render(Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(l.a,{domain:"dev-ngqwdtsq.us.auth0.com",clientId:"F5zt73D2nJqsidW1kmelY4v2MduiO0gB",redirectUri:window.location.origin,audience:"http://CodeCouchSocket.com/api",children:Object(o.jsx)($,{})})}),document.getElementById("root")),ee()},74:function(e,t,n){},75:function(e,t,n){}},[[132,1,2]]]);
//# sourceMappingURL=main.11c8f893.chunk.js.map